

<h5>HELLO Donateur {{user.prenom}} !</h5>
<h5>HELLO Donateur {{user.id}} !</h5>
<form action="{{ path('app_logout') }}" method ="post">
        <button type="submit" href="">LogOut</button>
</form>

{% for type, messages in app.flashes %}
    {% for message in messages %}
        <div class="alert alert-{{ type == 'error' ? 'danger' : type }}">
            {{ message }}
        </div>
    {% endfor %}
{% endfor %}
<div style="border: 1px solid #ccc; padding: 15px; margin: 15px 0; border-radius: 5px;">
    <h3>üìä Votre √âligibilit√© au Don de Sang</h3>
    
    {% if eligibilite.eligible %}
        <div style="color: green; font-weight: bold;">
            ‚úÖ {{ eligibilite.message }}
        </div>
        <p><strong>Dernier don :</strong> 
            {% if user.derniereDateDon %}
                {{ user.derniereDateDon|date('d/m/Y') }}
            {% else %}
                Jamais
            {% endif %}
        </p>
    {% else %}
        <div style="color: red; font-weight: bold;">
            ‚ùå {{ eligibilite.message }}
        </div>
        <p><strong>Dernier don :</strong> {{ user.derniereDateDon|date('d/m/Y') }}</p>
        <p><strong>Prochaine date possible :</strong> {{ eligibilite.prochaineDate|date('d/m/Y') }}</p>
        <p><strong>Jours restants :</strong> {{ eligibilite.joursRestants }} jour(s)</p>
    {% endif %}
</div>
<h2>Mes Rendez-Vous</h2>
{% if ListRendezVous is empty %}
    <p>Aucun rendez-vous trouv√©.</p>
{% else %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Date Rendez Vous</th>
                <th>Statut</th>
                <th>Lieu</th>
                <th>Nom collecte</th>
            </tr>
        </thead>
        <tbody>
      
            {% for rdv in ListRendezVous %}
                <tr>
                        <td>Date Rendez Vous {{ rdv.dateHeureDebut ? rdv.dateHeureDebut|date('d/m/Y H:i') : '' }}</td>
                        <td>Statut {{ rdv.statut }}</td>
                        <td>Lieu {{ rdv.collecte.lieu.nomLieu }}</td>
                        <td>Nom collecte {{ rdv.collecte.nom }}</td>
<td>
                        {% if rdv.statut != 'Annul√©' and rdv.statut != 'Annul√©' %}
                            <a href="{{ path('annuler_RendezVous', {'id': rdv.id}) }}" 
                               onclick="return confirm('√ätes-vous s√ªr de vouloir annuler ce rendez-vous ?')">
                                Annuler
                            </a>
                        {% else %}
                            <span style="color: #6c757d;">D√©j√† annul√©</span>
                        {% endif %}
                    </td>                       
                </tr>
            {% endfor %}

              {# Section √âligibilit√© #}

        </tbody>
    </table>
{% endif %}
